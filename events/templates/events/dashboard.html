
{% extends "events/base.html" %}
{% block title %}Dashboard{% endblock %}


{% block content %}

<script>
    function showEvents(type) {
        fetch(`/events/filter/${type}/`)
            .then(response => response.json())
            .then(data => {
                let eventList = document.getElementById("event-list");
                eventList.innerHTML = ""; 

                if (data.events.length === 0) {
                    eventList.innerHTML = "<li class='text-gray-500'>No events found.</li>";
                } else {
                    data.events.forEach(event => {
                        let li = document.createElement("li");
                        li.innerText = `${event.name} (${event.date})`;
                        eventList.appendChild(li);
                    });
                }
            })
            .catch(error => console.error("Error fetching events:", error));
    }
</script>

<div class="grid grid-cols-2 gap-4 mt-4 ">
    <div class="p-4 bg-slate-500 shadow-md rounded-lg cursor-pointer transition transform hover:scale-105" onclick="showEvents('upcoming')">
        <h2 class="text-xl font-bold text-white">Upcoming Events</h2>
        <p class="text-2xl text-white">{{ upcoming_events }}</p>
    </div>
    <div class="p-4 bg-slate-500 shadow-md rounded-lg cursor-pointer transition transform hover:scale-105" onclick="showEvents('past')">
        <h2 class="text-xl font-bold text-white">Past Events</h2>
        <p class=" text-2xl text-white">{{ past_events }}</p>
    </div>
</div>


<ul id="event-list" class="list-disc ml-6 mt-4 text-white">

</ul>

{% endblock %}